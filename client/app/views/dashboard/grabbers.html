<div>
    <a ui-sref="overview" class="pull-right btn btn-primary btn-outline">Back to Overview</a>
    <h2>Grabber
        <small>Manage grabbers</small>
    </h2>
    <div class="jumbotron">
        <div class="container">
            <div class="form-group">
                <a class="btn btn-primary btn-lg btn-outline glyphicon glyphicon-plus" ng-click="clickToOpen()"></a>
                <a class="btn btn-primary btn-lg btn-outline glyphicon glyphicon-refresh" ng-click="getAll()"></a>
                <a class="btn btn-primary btn-lg btn-outline glyphicon glyphicon-play" ng-click="startAll()"></a>
                <a class="btn btn-primary btn-lg btn-outline glyphicon glyphicon-stop" ng-click="stopAll()"></a>
                <a class="btn btn-primary btn-lg btn-outline glyphicon glyphicon-print" ng-click="showGrb()"></a>
            </div>
            <form>
                <div class="form-group">
                    <div class="input-group">
                        <div class="input-group-addon"><i class="glyphicon glyphicon-search"></i></div>
                        <input type="text" class="form-control" placeholder="Search for a grabber" ng-model="searchTerm">
                    </div>
                </div>
            </form>


            <table class="table table-striped">
                <thead>
                <tr>
                    <th></th>
                    <th><a ng-click="sortType = 'name'; sortReverse = !sortReverse">Name</a></th>
                    <th><a ng-click="sortType = 'feed'; sortReverse = !sortReverse">Feed</a></th>
                    <th><a ng-click="sortType = 'feed'; sortReverse = !sortReverse">Last Modified</a></th>
                    <th><a ng-click="sortType = 'interval'; sortReverse = !sortReverse">Interval</a></th>
                    <th>Controls</th>
                </tr>
                </thead>
                <tbody>
                <tr dir-paginate="grabber in grabbers | filter:{name:searchTerm} | orderBy:sortType:sortReverse | itemsPerPage: 10">
                    <td><span ng-click="openEditDialog(grabber)" class="glyphicon glyphicon-pencil"></span></td>
                    <td>{{ grabber.name }}</td>
                    <td><a href="{{ grabber.feed }}">{{ grabber.feed }}</a></td>
                    <td>{{ grabber.lastModified['$date'] | date:'dd.MM.yyyy HH:mm:ss Z' }}</td>
                    <td>{{ grabber.interval | duration }}</td>
                    <td>
                        <span ng-class="{'glyphicon glyphicon-play': grabber.status == 'suspended',
                        'glyphicon glyphicon-time': grabber.status == 'scheduled',
                        'glyphicon glyphicon-cog': grabber.status == 'running'}"
                              ng-click="start(grabber)">
                        </span>

                        <span ng-class="{'glyphicon glyphicon-stop': grabber.status == 'scheduled' || grabber.status == 'running',
                        'glyphicon glyphicon-stop text-danger': grabber.status == 'suspended'}"
                              ng-click="stop(grabber)">
                        </span>

                        <span class="glyphicon glyphicon-info-sign" ui-sref="stats({grabberID: grabber._id['$oid']})"></span>
                        <span class="glyphicon glyphicon-trash" ng-click="delete(grabber)"></span>
                    </td>
                </tr>
                </tbody>
            </table>
            <div class="text-center"><dir-pagination-controls max-size="10" direction-links="true" boundary-links="true" ></dir-pagination-controls></div>
        </div>
    </div>
</div>
